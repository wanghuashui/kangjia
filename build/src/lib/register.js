"use strict";$(function(){$("#userName").val("wx"),$("#phoneID").val("15959172169"),$("#passwordA").val("15959172169"),$("#passwordB").val("15959172169");var imgCode=void 0,captcha=new Captcha({lineWidth:1,lineNum:4,preGroundColor:[10,80],backGroundColor:[150,250],fontSize:80,fontFamily:["Georgia","微软雅黑","Helvetica","Arial"],fontStyle:"fill",content:"0123456789",length:4});captcha.draw(document.querySelector("#captcha"),function(e){imgCode=e,$("#imageCode").trigger("blur")});var options={userName:{reg:"/^[a-zA-Z]{2,6}$/.test(val)"},phoneID:{reg:"/^1[3-9]\\d{9}$/.test(val)"},passwordA:{reg:"/^[a-zA-Z0-9]{6,18}$/.test(val)"},passwordB:{reg:"$('#passwordA').val()==val&&val!=''"},imageCode:{reg:"val==imgCode"}};$(".info-input input").blur(function(){var optionsKey=this.id,val=$(this).val();eval(options[optionsKey].reg)?($(this).addClass("input-true").removeClass("input-error").next().html("√"),$(this).next().css("color","green")):($(this).addClass("input-error").removeClass("input-true").next().html("×"),$(this).next().css("color","red"))}),$("#registerBtn").click(function(){$("#phoneID,#userName,#passwordA,#passwordB,#imageCode").trigger("blur"),0==$(".input-error").length&&($("#checkbox").is(":checked")?$.ajax({type:"post",url:"../server/register.php",dataType:"json",data:{username:$("#userName").val(),phone:$("#phoneID").val(),password:md5($("#passwordA").val()).slice(0,15)}}).done(function(e){"success"==e.status?(alert("注册成功，请登录"),location.href="./login.html"):alert(e.msg)}):alert("请阅读并同意用户的注册协议!!!"))})});