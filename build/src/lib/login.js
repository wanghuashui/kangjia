"use strict";$(function(){$("#userName").val("wx"),$("#phoneID").val("15959172169"),$("#passwordA").val("15959172169"),$("#passwordB").val("15959172169");var imgCode=void 0,captcha=new Captcha({lineWidth:1,lineNum:4,preGroundColor:[10,80],backGroundColor:[150,250],fontSize:80,fontFamily:["Georgia","微软雅黑","Helvetica","Arial"],fontStyle:"fill",content:"0123456789",length:4});captcha.draw(document.querySelector("#captcha"),function(e){imgCode=e,$("#imageCode").trigger("blur")});var options={phoneID:{reg:"/^1[3-9]\\d{9}$/.test(val)"},passwordA:{reg:"/^[a-zA-Z0-9]{6,18}$/.test(val)"},imageCode:{reg:"val==imgCode"}};$(".info-input input").blur(function(){var optionsKey=this.id,val=$(this).val();eval(options[optionsKey].reg)?($(this).addClass("input-true").removeClass("input-error").next().html("√"),$(this).next().css("color","green")):($(this).addClass("input-error").removeClass("input-true").next().html("×"),$(this).next().css("color","red"))}),$("#loginBtn").click(function(){$("#phoneID,#passwordA,#imageCode").trigger("blur"),0==$(".input-error").length&&$.ajax({type:"post",url:"../server/login.php",dataType:"json",data:{phone:$("#phoneID").val(),password:md5($("#passwordA").val()).slice(0,15)}}).done(function(e){console.log(e),"success"==e.status?(localStorage.setItem("username",e.username),localStorage.setItem("userid",e.userid),alert("登录成功"),location.href="./index.html"):alert(e.msg)})})});